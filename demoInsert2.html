<!DOCTYPE html>
<html lang="zh-Hant">

<head>
  <meta charset="UTF-8">
  <title>簡單表單</title>
</head>

<body>
  <h2>產品新增表單</h2>
  <label for="name">產品：</label>
  <input type="text" id="pname">
  <label for="name">價格：</label>
  <input type="text" id="price">
  <button onclick="insertpost()">新增</button>
  <script>
    function insertpost() {
      //姓名正確的
      let pname = document.getElementById("pname").value;
      let price = document.getElementById("price").value;
      if (pname && price) {
        let returnbody= JSON.stringify({ table:"products", pname: pname,  price: price});
        console.log(returnbody);
        //格式檢查
        fetch('http://localhost:8000/api/2/insert', {
          method: 'POST',
          mode: 'cors', // ✅ 很關鍵
          body: returnbody,
        })
        console.log("完成fetch")
      } else {
        alert("請輸入資料");
      }
    }
  </script>
</body>

</html>